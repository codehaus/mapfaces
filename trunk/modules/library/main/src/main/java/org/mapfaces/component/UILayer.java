/*
 * UIMapPane.java
 *
 * Created on 27 d√©cembre 2007, 15:59
 */



package org.mapfaces.component;

import java.io.File;
import javax.faces.context.FacesContext;
import org.geotools.map.MapLayer;
import org.mapfaces.models.Layer;

/**
 *
 * @author Mehdi Sidhoum
 */
public class UILayer extends UIWidgetBase {
    
    public static final String FAMILIY = "org.mapfaces.MapPane.Layer";

    private Layer layer;   
    
    /*
     * Name of webapp root element
     */
    private String contextPath;
    
    /*
     * Directory where image generated by the portrayal servcie were saved
     */
    private File dir ;
    
            
    public UILayer() {
        super();
        setRendererType("org.mapfaces.renderkit.html.MapPane.Layer");    // this component has a renderer
        if(isDebug())
            System.out.println("        UILayer constructor-----------------");
    }
    /** Creates a new instance of UILayer */
    public UILayer(UIMapPane mappane,Layer layer) {
        super();
        setRendererType("org.mapfaces.renderkit.html.MapPane.Layer");    // this component has a renderer
        this.layer = layer;
        this.setUIModel(mappane.getUIModel());
    }

    @Override
    public String getFamily() {
        return FAMILIY;
    }


    public void setContextPath(String ctxPath) {
        contextPath = ctxPath;       
    }
    
    public String getContextPath() {
        return contextPath;       
    }

    public Layer getLayer() {
        return layer;
    }

    public void setLayer(Layer layer) {
        this.layer = layer;
    }

    public File getDir() {
        return dir;
    }

    public void setDir(File dir) {
        this.dir = dir;
    }
    
    @Override
    public Object saveState(FacesContext context) {
        Object values[] = new Object[4];
        values[0] = super.saveState(context); 
        values[1] = layer;  
        values[2] = contextPath;         
        values[3] = dir;        
        return values;
    }

    @Override
    public void restoreState(FacesContext context, Object state) {
        Object values[] = (Object[]) state;
        super.restoreState(context, values[0]); 
        layer = (Layer) values[1];
        contextPath = (String) values[2];
        dir = (File) values[3];
    }
    

}
